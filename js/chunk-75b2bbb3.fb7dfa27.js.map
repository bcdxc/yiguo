{"version":3,"sources":["webpack:///./src/views/Proposal.vue?8ed9","webpack:///src/views/Proposal.vue","webpack:///./src/views/Proposal.vue?42b7","webpack:///./src/views/Proposal.vue","webpack:///./src/views/Proposal.vue?c521"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","ref","on","needRotate","staticStyle","attrs","tableData","staticRenderFns","temArr","sort","date","orderNum","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACJ,EAAIO,GAAG,cAAcH,EAAG,IAAI,CAACI,IAAI,aAAaF,YAAY,kCAAkCG,GAAG,CAAC,MAAQT,EAAIU,gBAAgBN,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,WAAW,CAACO,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,KAAOZ,EAAIa,UAAU,OAAS,KAAK,CAACT,EAAG,kBAAkB,CAACQ,MAAM,CAAC,KAAO,WAAW,MAAQ,KAAK,MAAQ,MAAM,MAAQ,YAAYR,EAAG,kBAAkB,CAACQ,MAAM,CAAC,KAAO,OAAO,MAAQ,MAAM,MAAQ,MAAM,MAAQ,YAAYR,EAAG,kBAAkB,CAACQ,MAAM,CAAC,KAAO,OAAO,MAAQ,OAAO,MAAQ,MAAM,MAAQ,YAAYR,EAAG,kBAAkB,CAACQ,MAAM,CAAC,KAAO,UAAU,MAAQ,SAAS,IAAI,MACrwBE,EAAkB,G,kECyCtB,GACE,KADF,WAEI,MAAJ,CACM,UAAN,GACM,QAAN,OAGE,QAPF,WAQI,KAAJ,eAGE,QAAF,CAEI,YAFJ,WAEM,IAAN,OAAM,OAAN,qDAAQ,OAAR,0FACA,KACA,aACA,sCACA,kBACA,aACA,eACoBC,EAAOC,MAAK,SAAhC,6BACoB,IAAK,IAAzB,mBACsB,EAAtB,8BACA,wBAEsB,EAAtB,qBAGoBD,EAAO,GAAGE,KAAO,IAArC,kBACA,wBAEoBF,EAAO,GAAGG,SAAW,EAEzC,iBApBA,8CAuBI,WAzBJ,WAyBM,IAAN,OAGA,eACQ,KAAR,UACQ,KAAR,yCAEQ,KAAR,aACQ,YAAR,WACU,EAAV,gBACA,KACQ,YAAR,WAEU,EAAV,4CACU,EAAV,eACA,SC7FkV,I,wBCQ9UC,EAAY,eACd,EACApB,EACAe,GACA,EACA,KACA,KACA,MAIa,aAAAK,E,2CCnBf,W","file":"js/chunk-75b2bbb3.fb7dfa27.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"proposal\"},[_c('div',{staticClass:\"proposal-head\"},[_c('span',[_vm._v(\"用户建议（反馈）\")]),_c('i',{ref:\"needRotate\",staticClass:\"icon-ic_refresh iconfont myicon\",on:{\"click\":_vm.needRotate}})]),_c('div',{staticClass:\"proposal-main\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"orderNum\",\"label\":\"序号\",\"width\":\"100\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"user\",\"label\":\"用户名\",\"width\":\"150\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"创建时间\",\"width\":\"250\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"content\",\"label\":\"内容\"}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"proposal\">\r\n        <div class=\"proposal-head\">\r\n            <span>用户建议（反馈）</span>\r\n            <i\r\n                class=\"icon-ic_refresh iconfont myicon\"\r\n                ref=\"needRotate\"\r\n                @click=\"needRotate\"\r\n            ></i>\r\n        </div>\r\n        <div class=\"proposal-main\">\r\n            <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n                <el-table-column\r\n                    prop=\"orderNum\"\r\n                    label=\"序号\"\r\n                    width=\"100\"\r\n                    align=\"center\"\r\n                >\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"user\"\r\n                    label=\"用户名\"\r\n                    width=\"150\"\r\n                    align=\"center\"\r\n                >\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"date\"\r\n                    label=\"创建时间\"\r\n                    width=\"250\"\r\n                    align=\"center\"\r\n                >\r\n                </el-table-column>\r\n                <el-table-column prop=\"content\" label=\"内容\"> </el-table-column>\r\n            </el-table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            tableData: [],\r\n            timeout: null,\r\n        };\r\n    },\r\n    created() {\r\n        this.getProposal();\r\n    },\r\n\r\n    methods: {\r\n        // 获取服务器 proposal 的数据\r\n        async getProposal() {\r\n            await axios({\r\n                method: \"get\",\r\n                url: \"http://localhost:3006/suggest\",\r\n            }).then((res) => {\r\n                let temArr = res.data;\r\n                if (temArr.length > 1) {\r\n                    temArr.sort((a, b) => b.date - a.date);\r\n                    for (let i = 0; i < temArr.length; i++) {\r\n                        temArr[i].date = moment(temArr[i].date).format(\r\n                            \"YYYY-MM-DD, HH:mm:ss\"\r\n                        );\r\n                        temArr[i].orderNum = i + 1;\r\n                    }\r\n                } else {\r\n                    temArr[0].date = moment(temArr[0].date).format(\r\n                        \"YYYY-MM-DD, HH:mm:ss\"\r\n                    );\r\n                    temArr[0].orderNum = 1;\r\n                }\r\n                this.tableData = temArr;\r\n            });\r\n        },\r\n        needRotate() {\r\n            // DOM.classList.add(\"类名\"); //添加类名\r\n            // DOM.classList.remove(\"类名\"); //删除类名\r\n            if (!this.timeout) {\r\n                this.timeout = 1;\r\n                this.$refs.needRotate.classList.add(\"rotate\");\r\n                // 更新数据\r\n                this.tableData = [];\r\n                setTimeout(() => {\r\n                    this.getProposal();\r\n                }, 400);\r\n                setTimeout(() => {\r\n                    // 防抖\r\n                    this.$refs.needRotate.classList.remove(\"rotate\");\r\n                    this.timeout = null;\r\n                }, 1000);\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\n.proposal {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    /* justify-content: center; */\r\n    align-items: center;\r\n}\r\n.proposal-head,\r\n.proposal-main {\r\n    width: 1100px;\r\n}\r\n.proposal-head {\r\n    height: 50px;\r\n    line-height: 50px;\r\n    text-align: center;\r\n    font-size: 20px;\r\n    letter-spacing: 1.5px;\r\n    font-weight: 400;\r\n    color: #606266;\r\n    margin: 0 0 30px 0;\r\n    position: relative;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proposal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proposal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Proposal.vue?vue&type=template&id=1c0fbc56&\"\nimport script from \"./Proposal.vue?vue&type=script&lang=js&\"\nexport * from \"./Proposal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Proposal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proposal.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}